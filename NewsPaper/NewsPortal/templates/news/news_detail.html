{% extends 'default.html' %}
{% load news_filters %}

{% block content %}
    <article>
        <h1>{{ news.title|censor }}</h1>
        <div class="news-meta">
            <strong>Тип:</strong> {{ news.get_post_type_display_name }}

            <strong>Автор:</strong> {{ news.author.user.username }}

            <strong>Дата публикации:</strong> {{ news.created_at|date:"d.m.Y H:i" }}

            <strong>Рейтинг:</strong> {{ news.rating }}

            <strong>Категории:</strong> {{ news.get_categories_display }}
        </div>

        <div class="news-content">
            {{ news.content|censor|linebreaks }}
        </div>

        {% if user.is_authenticated and user == news.author.user %}
            <div class="actions">
                <a href="{% url 'NewsPortal:news_edit' news.pk %}" class="btn">Редактировать</a>
                <a href="{% url 'NewsPortal:news_delete' news.pk %}" class="btn danger">Удалить</a>
            </div>
        {% endif %}

        <div class="actions">
            <a href="{% url 'NewsPortal:news_edit' news.pk %}" class="btn">Редактировать</a>
            <a href="{% url 'NewsPortal:news_delete' news.pk %}" class="btn danger">Удалить</a>
            <a href="{% url 'NewsPortal:news_list' %}" class="btn">Вернуться к списку новостей</a>
        </div>
    </article>
{% endblock %}